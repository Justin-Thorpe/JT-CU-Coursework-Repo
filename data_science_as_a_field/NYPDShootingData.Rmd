---
title: "NYPD Shooting Data Report"
subtitle: "Justin Thorpe"
output: html_document
date: "2024-09-24"
---

```{}
```

### Introduction
Shootings are a problem nationwide. To better understand where this violence is coming from, we have to look at the data at a local level to get a clearer picture and help ensure police and legislators can respond to or even prevent such tragedies. By using statistical data, we can identify trends and patterns to generate insights and help in decision making to help solve this issue. 

### Importing the Dataset and libraries
```{r import}
library(tidyverse)
library(dplyr)
library(lubridate)
library(ggplot2)

urls <- "https://data.cityofnewyork.us/api/views/833y-fsy8/rows.csv?accessType=DOWNLOAD"
NYPD_Shooting_Incident_Data_Historic <- read.csv(urls)
```

### Data Cleaning
Remove irrelevant columns, and rename the rest. Display first five rows of the table.

```{r clean}
NYPD_Shooting_Data = subset(NYPD_Shooting_Incident_Data_Historic, select = -c(LOC_OF_OCCUR_DESC, JURISDICTION_CODE, X_COORD_CD, Y_COORD_CD, Latitude, Longitude, Lon_Lat))

NYPD_Shooting_Data <- NYPD_Shooting_Data %>% rename(Incident = INCIDENT_KEY, Date = OCCUR_DATE, Time = OCCUR_TIME, Borough = BORO, Precinct = PRECINCT, Location_Class = LOC_CLASSFCTN_DESC, Location_Description = LOCATION_DESC, Murder_Flag = STATISTICAL_MURDER_FLAG, Perp_Age_Group = PERP_AGE_GROUP, Perp_Sex = PERP_SEX, Perp_Race = PERP_RACE, Victim_Age_Group = VIC_AGE_GROUP, Victim_Sex = VIC_SEX, Victim_Race = VIC_RACE)

head(NYPD_Shooting_Data, 5)

```

### Change Class of Date
We need to ensure the date is the correct class. And mutate the table to add year and month.

```{r class_fix}
NYPD_Shooting_Data$Date <- mdy(NYPD_Shooting_Data$Date)
class(NYPD_Shooting_Data$Date)
NYPD_Shooting_Data <- NYPD_Shooting_Data %>%
    mutate(Year = year(Date), Month = month(Date))
```

### Data Visualization

Here we want to see first by Borough what the total number of shootings were within the data set.

```{r plot_a}
borough_data <- NYPD_Shooting_Data %>%
  group_by(Borough) %>%
  summarize(Incident = n())


ggplot(borough_data, aes(x = Borough, y = Incident)) +
  geom_bar(stat="Identity") +
  ggtitle("Shooting Incidents by Borough") +
  xlab("BOROUGH") + ylab("SHOOTING INCIDENTS") +
  theme_minimal()
```

Next lets see this data broken down further by time.

```{r plot_b}
borough_data_over_time <- NYPD_Shooting_Data %>%
    group_by(Year, Month, Borough) %>%
    summarize(Incident = n())


ggplot(borough_data_over_time, aes(x = Year, y = Incident)) +
  geom_bar(stat="Identity") + 
  ggtitle("Shooting Incidents over Time") +
  xlab("YEAR") + ylab("SHOOTING INCIDENTS") +
  theme_minimal()

```

### Conclusions from Data

From the data we can conclude that there are more shootings in certain neighborhoods than others. This does not paint a full picture however, as we do not have the data for how many people there are in each Borough, so we cant normalize this information and get an accurate number of shootings relative to the population.

Next we see the shooting incidents by year. Here we can see that there is a spike around 2020, with gradual decline after. We can guess at the reasons, from COVID lock downs, political protests, and perhaps others, but without more data these are just assumptions. 

### Biases in the data

Biases are inherent in data. We all have biases both conscious or unconscious. With regards to the NYPD shooting incident data, biases can be from multiple places. In my view these can be racial bias, looking at perp and victim data there were many races and unconscious bias may have affected how a person views that data. Another kind of bias could be distrust of police or government. This could feed a bias against the data source. A third kind I felt may have an affect was a bias around firearms in civilian hands. This could also color how one views the data. 